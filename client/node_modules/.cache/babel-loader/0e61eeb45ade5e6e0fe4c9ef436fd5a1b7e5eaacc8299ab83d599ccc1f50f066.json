{"ast":null,"code":"var _jsxFileName = \"/Users/anukumar/Desktop/Spring2025/local-textsimplification/client/src/components/Main/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport styles from \"./styles.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\";\n// import { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { calcMetrics } from \"../../utils/textMetrics\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\npdfjsLib.GlobalWorkerOptions.workerSrc = `${process.env.PUBLIC_URL}/pdf.worker.mjs`;\nconst Main = () => {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [outputText, setOutputText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [isEditable, setIsEditable] = useState(false); // For toggling edit mode\n  const [uploadedFileName, setUploadedFileName] = useState(\"\"); // State for file name\n  const [isSaveButtonVisible, setIsSaveButtonVisible] = useState(true);\n  const [showSurveyPrompt, setShowSurveyPrompt] = useState(false); // State for survey prompt\n\n  const [documents, setDocuments] = useState([]); // Store user documents\n  const [selectedDocument, setSelectedDocument] = useState(null); // Selected doc\n  const [isSidebarVisible, setIsSidebarVisible] = useState(false); // Sidebar toggle\n\n  const navigate = useNavigate();\n  const [isUploading, setIsUploading] = useState(false); // State for showing buffer\n\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const email = user === null || user === void 0 ? void 0 : user.email;\n  const [inputWordCount, setInputWordCount] = useState(0);\n  const [inputCharCount, setInputCharCount] = useState(0);\n  const [pdfPageCount, setPdfPageCount] = useState(0);\n  const inputTextSnapshot = useRef(\"\");\n  const [pdfPath, setPdfPath] = useState(\"\");\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/Login\");\n  };\n\n  // Load user's past documents (original texts only)\n  useEffect(() => {\n    if (!email) return;\n    const fetchDocuments = async () => {\n      try {\n        const response = await fetch(`http://localhost:5001/api/simplifications/user/${email}`);\n        const result = await response.json();\n        if (response.ok) {\n          const sortedDocs = result.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n          setDocuments(sortedDocs);\n        } else {\n          console.error(\"Error fetching documents:\", result.message);\n        }\n      } catch (error) {\n        console.error(\"Error fetching documents:\", error);\n      }\n    };\n    fetchDocuments();\n  }, [email]);\n\n  // Handle document selection from history\n  const handleDocumentClick = doc => {\n    setSelectedDocument(doc);\n    setInputText(doc.inputText);\n  };\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    setPdfPath(`/uploads/${file.name}`);\n    if (!file) return;\n    setIsUploading(true); // Show buffer while processing\n    setUploadedFileName(file.name); // Set file name\n\n    try {\n      //setUploadedFileName(file.name); // Set the uploaded file name\n      const fileReader = new FileReader();\n      fileReader.onload = async function () {\n        const typedArray = new Uint8Array(this.result);\n        const pdf = await pdfjsLib.getDocument(typedArray).promise;\n        setPdfPageCount(pdf.numPages);\n        let text = \"\";\n\n        // Extract text from all pages\n        for (let i = 1; i <= pdf.numPages; i++) {\n          const page = await pdf.getPage(i);\n          const textContent = await page.getTextContent();\n          text += textContent.items.map(item => item.str).join(\" \");\n        }\n        setInputText(text);\n      };\n      fileReader.readAsArrayBuffer(file);\n    } catch (error) {\n      console.error(\"Error reading PDF:\", error);\n      alert(\"Failed to extract text from the PDF.\");\n    } finally {\n      setIsUploading(false); // Hide buffer once done\n    }\n  };\n  const countWordsAndChars = text => {\n    const words = text.trim().split(/\\s+/).filter(Boolean).length;\n    const chars = text.length;\n    return {\n      words,\n      chars\n    };\n  };\n  useEffect(() => {\n    const {\n      words: inputWords,\n      chars: inputChars\n    } = countWordsAndChars(inputText);\n    setInputWordCount(inputWords);\n    setInputCharCount(inputChars);\n  }, [inputText]);\n  const saveInitialSimplification = async (trimmedInput, cleanedOutput) => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (!user) return;\n    await fetch(\"http://localhost:5001/api/simplifications\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        userId: user._id,\n        email,\n        inputText: trimmedInput,\n        outputText: cleanedOutput,\n        pdfName: uploadedFileName || null,\n        pdfPath: pdfPath || null\n      })\n    });\n  };\n\n  // Function to format the prompt with user input\n  const generatePrompt = inputText => {\n    return `\n\tYou are an expert in accessible communication, tasked with transforming complex text into clear, accessible plain language for individuals with Intellectual and Developmental Disabilities (IDD) or those requiring simplified content. Retain all essential information and intent while prioritizing readability, comprehension, and inclusivity.\n\n\tText simplification refers to rewriting or adapting text to make it easier to read and understand while keeping the same level of detail and precision. Make sure you focus on simplification and not summarization. The length of generated output text must be similar to that of input text.\n\n\tStick to the provided input text and only simplify the language. Don't provide the answer or hallucinate or provide any irrelevant information, not mentioned in the input text. \n\n\tGuidelines for Simplification:\n\tVocabulary and Terminology:\n\tReplace uncommon, technical, or abstract words with simple, everyday language.\n\tDefine unavoidable complex terms in plain language within parentheses upon first use (example: â€œcardiologist (heart doctor)â€).\n\tAvoid idioms, metaphors, sarcasm, or culturally specific references.\n\n\tSentence Structure:\n\tUse short sentences (10--15 words max). Break long sentences into 1â€“2 ideas each.\n\tPrefer active voice (example: â€œThe doctor examined the patientâ€ vs. â€œThe patient was examined by the doctorâ€).\n\tAvoid nested clauses, passive voice, and ambiguous pronouns (example: â€œthey,â€ â€œitâ€).\n\n\tClarity and Flow:\n\tOrganize content logically, using headings/subheadings to group related ideas.\n\tUse bullet points or numbered lists for steps, options, or key points.\n\tEnsure each paragraph focuses on one main idea.\n\n\tTone and Engagement:\n\tWrite in a neutral, conversational tone (avoid formal or academic language).\n\tAddress the reader directly with â€œyouâ€ or â€œweâ€ where appropriate.\n\tUse consistent terms for concepts (avoid synonyms that may confuse).\n\n\tAvoid Exclusionary Elements:\n\tRemove jargon, acronyms (unless defined), and expand abbreviations if needed (example: â€œASAPâ€ â†’ â€œas soon as possibleâ€).\n\tEliminate metaphors, idioms, or implied meanings (example: â€œhit the booksâ€ â†’ â€œstudyâ€).\n\tAvoid double negatives (example: â€œnot uncommonâ€ â†’ â€œcommonâ€).\n\n\tStructural Support:\n\tAdd clear headings to label sections (example: â€œHow to Apply for Benefitsâ€).\n\tUse formatting tools like bold for key terms or warnings.\n\tChunk information into short paragraphs with line breaks for visual ease.\n\n\tInclusivity Checks:\n\tEnsure content is free of bias, stereotypes, or assumptions about the reader.\n\tUse gender-neutral language (example: â€œtheyâ€ instead of â€œhe/sheâ€).\n\n\n\tOutput Requirements:\n\tReturn only the simplified text, without markdown, emojis, or images.\n\tPreserve original context, facts, and intent. Do not omit critical details.\n\tPrioritize clarity over brevity; focus on simplification and not summarization. The length of generated output text should be same or similar to that of input text.\n\tDo not simplify already simple text.\n\n\tExample Transformation:\n\tOriginal: â€œIndividuals experiencing adverse climatic conditions may necessitate relocation to mitigate health risks.â€\n\tSimplified: â€œIf weather conditions become dangerous, people might need to move to stay safe.â€\n\n\tFor the provided input text, apply the above guidelines rigorously. Ensure the output is accessible to readers with varied cognitive abilities, emphasizing clarity, simplicity, and logical structure. Verify that the simplified text aligns with plain language standards like WCAG and PlainLanguage.gov.\n\n\t\"${inputText}\"\n\t`;\n  };\n  const splitTextIntoChunks = (text, maxTokens) => {\n    const words = text.split(\" \");\n    let chunks = [];\n    let currentChunk = [];\n    for (let word of words) {\n      if (currentChunk.join(\" \").length + word.length < maxTokens) {\n        currentChunk.push(word);\n      } else {\n        chunks.push(currentChunk.join(\" \"));\n        currentChunk = [word];\n      }\n    }\n    if (currentChunk.length > 0) chunks.push(currentChunk.join(\" \"));\n    return chunks;\n  };\n  const handleSubmit = async () => {\n    // const inputText = document.getElementById('inputText').value;\n    const trimmedInput = inputText.trim();\n    if (!trimmedInput) return;\n\n    // inputTextSnapshot.current = inputText; \n    setIsLoading(true);\n    try {\n      const chunks = splitTextIntoChunks(trimmedInput, 10000);\n      let combinedOutput = \"\";\n      for (let chunk of chunks) {\n        var _data$response;\n        const prompt = generatePrompt(chunk);\n        const response = await fetch(\"http://localhost:5001/api/gpt4\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            prompt\n          })\n        });\n        if (!response.ok) {\n          console.error(`API request failed with status: ${response.status}`);\n          continue; // Skip this chunk if the API request failed\n        }\n        const data = await response.json();\n        console.log(\"Full API Response: \", data);\n        const data1 = (data === null || data === void 0 ? void 0 : (_data$response = data.response) === null || _data$response === void 0 ? void 0 : _data$response.replace(/^\"|\"$/g, \"\")) || \"No response received.\"; // Append results\n        combinedOutput += data1 + \" \";\n      }\n      console.log(\"Final Combined Output: \", combinedOutput);\n      console.log(\"Data: \", combinedOutput);\n      const cleanedResponse = combinedOutput.trim();\n      setOutputText(cleanedResponse);\n      setIsSubmitted(true);\n      navigate(\"/review\", {\n        state: {\n          inputText: trimmedInput,\n          outputText: cleanedResponse\n        }\n      });\n    } catch (error) {\n      console.error(\"Error fetching GPT-4o response:\", error);\n      setOutputText(\"An error occurred while simplifying the text.\");\n    }\n    setIsLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.navbar,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        onClick: () => window.location.href = \"http://localhost:5001/\",\n        style: {\n          cursor: \"pointer\"\n        } // Makes it look clickable\n        ,\n        children: \"Text Simplification Tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.white_btn,\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.sidebar} ${isSidebarVisible ? styles.expanded : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.historyIcon,\n          onClick: () => setIsSidebarVisible(!isSidebarVisible),\n          children: [\"\\uD83D\\uDD52   \", /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"15px\"\n            },\n            children: \" History \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 4\n        }, this), isSidebarVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.historyContent,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.closeButton,\n            onClick: () => setIsSidebarVisible(false),\n            children: \"\\u2716\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: styles.historyList,\n            children: documents.map((doc, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => handleDocumentClick(doc),\n              className: `${styles.historyItem} ${(selectedDocument === null || selectedDocument === void 0 ? void 0 : selectedDocument._id) === doc._id ? styles.activeDoc : \"\"}`,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Document \", documents.length - index]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 5\n              }, this), \"(\", doc.inputText.substring(0, 20), \"...)\"]\n            }, doc._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 5\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.mainContent} ${isSidebarVisible ? styles.withSidebar : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.description,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"This tool helps make complex text easier to read while preserving its original meaning. Whether you're simplifying academic content, technical documents, or general text for better accessibility, this tool provides a quick and efficient way to generate a more readable version. You can enter text manually or upload a document to get started.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.form_container,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.input_area,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.text_container,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: styles.label,\n                htmlFor: \"inputText\",\n                children: \"Input Text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 6\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"inputText\",\n                className: `${styles.textarea} ${isLoading ? styles.disabled : \"\"}`\n                //   className={styles.textarea}\n                ,\n                placeholder: \"Write/Paste your text here or upload a PDF document to extract content automatically.\",\n                value: inputText,\n                onChange: e => setInputText(e.target.value),\n                disabled: isLoading // Disable input when loading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 6\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: styles.countText,\n                children: [\"Words: \", inputWordCount, \" | Characters: \", inputCharCount, pdfPageCount > 0 && ` | Pages: ${pdfPageCount}`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 6\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.or_divider,\n              children: \"OR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${styles.upload_area} ${isLoading ? styles.disabled : \"\"}`,\n              onDragOver: e => e.preventDefault() // Prevent default behavior\n              ,\n              onDrop: e => {\n                e.preventDefault();\n                const file = e.dataTransfer.files[0]; // Get the first dropped file\n                if (file) {\n                  handleFileUpload({\n                    target: {\n                      files: [file]\n                    }\n                  }); // Simulate file selection event\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fileUpload\",\n                className: styles.upload_box,\n                children: isUploading ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.loadingText,\n                  children: \"Extracting text, please wait...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 8\n                }, this) : uploadedFileName ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"File uploaded: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: uploadedFileName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 24\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"Click to Upload a PDF\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 9\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"...or drag and drop a file.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 9\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 6\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                id: \"fileUpload\",\n                accept: \"application/pdf\",\n                onChange: handleFileUpload,\n                className: styles.hidden_input,\n                disabled: isUploading || isLoading // Disable upload while processing\n                //disabled={isUploading} // Disable upload while processing\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 6\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.submit_btn,\n          onClick: handleSubmit,\n          disabled: !inputText.trim() || isLoading || isUploading,\n          id: \"simplifyBtn\"\n          //title={!inputText.trim() ? \"Enter text or upload a file to enable simplification.\" : \"\"}\n          ,\n          children: isLoading ? \"Processing...\" : \"Simplify Text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.help_text,\n          children: [\"Need Help? \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"mailto:anukumar@uw.edu\",\n            children: \"Contact Support\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(Main, \"GOgCDan3SVr/6qAHqaSuuTBcI8I=\", false, function () {\n  return [useNavigate];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","useRef","styles","useNavigate","pdfjsLib","jwtDecode","calcMetrics","jsxDEV","_jsxDEV","Fragment","_Fragment","GlobalWorkerOptions","workerSrc","process","env","PUBLIC_URL","Main","_s","inputText","setInputText","outputText","setOutputText","isLoading","setIsLoading","isSubmitted","setIsSubmitted","isEditable","setIsEditable","uploadedFileName","setUploadedFileName","isSaveButtonVisible","setIsSaveButtonVisible","showSurveyPrompt","setShowSurveyPrompt","documents","setDocuments","selectedDocument","setSelectedDocument","isSidebarVisible","setIsSidebarVisible","navigate","isUploading","setIsUploading","user","JSON","parse","localStorage","getItem","email","inputWordCount","setInputWordCount","inputCharCount","setInputCharCount","pdfPageCount","setPdfPageCount","inputTextSnapshot","pdfPath","setPdfPath","handleLogout","removeItem","fetchDocuments","response","fetch","result","json","ok","sortedDocs","data","sort","a","b","Date","createdAt","console","error","message","handleDocumentClick","doc","handleFileUpload","event","file","target","files","name","fileReader","FileReader","onload","typedArray","Uint8Array","pdf","getDocument","promise","numPages","text","i","page","getPage","textContent","getTextContent","items","map","item","str","join","readAsArrayBuffer","alert","countWordsAndChars","words","trim","split","filter","Boolean","length","chars","inputWords","inputChars","saveInitialSimplification","trimmedInput","cleanedOutput","method","headers","body","stringify","userId","_id","pdfName","generatePrompt","splitTextIntoChunks","maxTokens","chunks","currentChunk","word","push","handleSubmit","combinedOutput","chunk","_data$response","prompt","status","log","data1","replace","cleanedResponse","state","children","className","navbar","onClick","window","location","href","style","cursor","fileName","_jsxFileName","lineNumber","columnNumber","white_btn","container","sidebar","expanded","historyIcon","fontSize","historyContent","closeButton","historyList","index","historyItem","activeDoc","substring","mainContent","withSidebar","description","form_container","input_area","text_container","label","htmlFor","id","textarea","disabled","placeholder","value","onChange","e","countText","or_divider","upload_area","onDragOver","preventDefault","onDrop","dataTransfer","upload_box","loadingText","type","accept","hidden_input","submit_btn","help_text","_c","$RefreshReg$"],"sources":["/Users/anukumar/Desktop/Spring2025/local-textsimplification/client/src/components/Main/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef  } from \"react\";\nimport styles from \"./styles.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\";\n// import { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nimport { jwtDecode } from \"jwt-decode\";\n\nimport { calcMetrics } from \"../../utils/textMetrics\";\n\npdfjsLib.GlobalWorkerOptions.workerSrc = `${process.env.PUBLIC_URL}/pdf.worker.mjs`;\n\nconst Main = () => {\n\n\tconst [inputText, setInputText] = useState(\"\");\n\tconst [outputText, setOutputText] = useState(\"\");\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [isSubmitted, setIsSubmitted] = useState(false);\n\tconst [isEditable, setIsEditable] = useState(false); // For toggling edit mode\n\tconst [uploadedFileName, setUploadedFileName] = useState(\"\"); // State for file name\n\tconst [isSaveButtonVisible, setIsSaveButtonVisible] = useState(true);\n\tconst [showSurveyPrompt, setShowSurveyPrompt] = useState(false); // State for survey prompt\n\n\tconst [documents, setDocuments] = useState([]); // Store user documents\n\tconst [selectedDocument, setSelectedDocument] = useState(null); // Selected doc\n\tconst [isSidebarVisible, setIsSidebarVisible] = useState(false); // Sidebar toggle\n\n\tconst navigate = useNavigate();\n\tconst [isUploading, setIsUploading] = useState(false); // State for showing buffer\n\n\tconst user = JSON.parse(localStorage.getItem(\"user\"));\n\tconst email = user?.email;\n\n\tconst [inputWordCount, setInputWordCount] = useState(0);\n\tconst [inputCharCount, setInputCharCount] = useState(0);\n\tconst [pdfPageCount, setPdfPageCount] = useState(0);\n\n\tconst inputTextSnapshot = useRef(\"\");\n\tconst [pdfPath, setPdfPath] = useState(\"\"); \n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/Login\"); \n  };\n\n    // Load user's past documents (original texts only)\n\tuseEffect(() => {\n\t\tif (!email) return;\n\t\n\t\tconst fetchDocuments = async () => {\n\t\t  try {\n\t\t\tconst response = await fetch(\n\t\t\t  `http://localhost:5001/api/simplifications/user/${email}`\n\t\t\t);\n\t\t\tconst result = await response.json();\n\t\n\t\t\tif (response.ok) {\n\t\t\t  const sortedDocs = result.data.sort(\n\t\t\t\t(a, b) => new Date(b.createdAt) - new Date(a.createdAt)\n\t\t\t  );\n\t\t\t  setDocuments(sortedDocs);\n\t\t\t} else {\n\t\t\t  console.error(\"Error fetching documents:\", result.message);\n\t\t\t}\n\t\t  } catch (error) {\n\t\t\tconsole.error(\"Error fetching documents:\", error);\n\t\t  }\n\t\t};\n\t\n\t\tfetchDocuments();\n\t  }, [email]);\n\n\t  // Handle document selection from history\n  const handleDocumentClick = (doc) => {\n    setSelectedDocument(doc);\n    setInputText(doc.inputText);\n  };\n\n  \tconst handleFileUpload = async (event) => {\n\t  const file = event.target.files[0];\n\t  setPdfPath(`/uploads/${file.name}`);    \n\n\t  if (!file) return;\n  \n\t  setIsUploading(true); // Show buffer while processing\n\t  setUploadedFileName(file.name); // Set file name\n\n\t  try {\n\t\t//setUploadedFileName(file.name); // Set the uploaded file name\n\t\tconst fileReader = new FileReader();\n\t\tfileReader.onload = async function () {\n\t\t  const typedArray = new Uint8Array(this.result);\n  \n\t\t  const pdf = await pdfjsLib.getDocument(typedArray).promise;\n\n\t\t  setPdfPageCount(pdf.numPages);\n\n\t\t  let text = \"\";\n  \n\t\t  // Extract text from all pages\n\t\t  for (let i = 1; i <= pdf.numPages; i++) {\n\t\t\tconst page = await pdf.getPage(i);\n\t\t\tconst textContent = await page.getTextContent();\n\t\t\ttext += textContent.items.map((item) => item.str).join(\" \");\n\t\t  }\n  \n\t\t  setInputText(text);\n\t\t};\n\t\tfileReader.readAsArrayBuffer(file);\n\t  } catch (error) {\n\t\tconsole.error(\"Error reading PDF:\", error);\n\t\talert(\"Failed to extract text from the PDF.\");\n\t  } finally {\n\t\tsetIsUploading(false); // Hide buffer once done\n\t  }\n\t};\n \n\tconst countWordsAndChars = (text) => {\n\t\tconst words = text.trim().split(/\\s+/).filter(Boolean).length;\n\t\tconst chars = text.length;\n\t\treturn { words, chars };\n\t  };\n\t  \n\t    useEffect(() => {\n\t\t  const { words: inputWords, chars: inputChars } = countWordsAndChars(inputText);\n\n\t\t  setInputWordCount(inputWords);\n\t\t  setInputCharCount(inputChars);\n\n\t\t}, [inputText]);\n\t  \n\t\tconst saveInitialSimplification = async (trimmedInput, cleanedOutput) => {\n\t\t\tconst user = JSON.parse(localStorage.getItem(\"user\"));\n\t\t\tif (!user) return;\n\n\t\t\tawait fetch(\"http://localhost:5001/api/simplifications\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\tuserId: user._id,\n\t\t\t\temail,\n\t\t\t\tinputText: trimmedInput,\n\t\t\t\toutputText: cleanedOutput,\n\t\t\t\tpdfName: uploadedFileName || null,\n\t\t\t\tpdfPath: pdfPath || null,\n\t\t\t\t}),\n\t\t\t});\n\t\t\t};\n\n\t// Function to format the prompt with user input\nconst generatePrompt = (inputText) => {\n\treturn `\n\tYou are an expert in accessible communication, tasked with transforming complex text into clear, accessible plain language for individuals with Intellectual and Developmental Disabilities (IDD) or those requiring simplified content. Retain all essential information and intent while prioritizing readability, comprehension, and inclusivity.\n\n\tText simplification refers to rewriting or adapting text to make it easier to read and understand while keeping the same level of detail and precision. Make sure you focus on simplification and not summarization. The length of generated output text must be similar to that of input text.\n\n\tStick to the provided input text and only simplify the language. Don't provide the answer or hallucinate or provide any irrelevant information, not mentioned in the input text. \n\n\tGuidelines for Simplification:\n\tVocabulary and Terminology:\n\tReplace uncommon, technical, or abstract words with simple, everyday language.\n\tDefine unavoidable complex terms in plain language within parentheses upon first use (example: â€œcardiologist (heart doctor)â€).\n\tAvoid idioms, metaphors, sarcasm, or culturally specific references.\n\n\tSentence Structure:\n\tUse short sentences (10--15 words max). Break long sentences into 1â€“2 ideas each.\n\tPrefer active voice (example: â€œThe doctor examined the patientâ€ vs. â€œThe patient was examined by the doctorâ€).\n\tAvoid nested clauses, passive voice, and ambiguous pronouns (example: â€œthey,â€ â€œitâ€).\n\n\tClarity and Flow:\n\tOrganize content logically, using headings/subheadings to group related ideas.\n\tUse bullet points or numbered lists for steps, options, or key points.\n\tEnsure each paragraph focuses on one main idea.\n\n\tTone and Engagement:\n\tWrite in a neutral, conversational tone (avoid formal or academic language).\n\tAddress the reader directly with â€œyouâ€ or â€œweâ€ where appropriate.\n\tUse consistent terms for concepts (avoid synonyms that may confuse).\n\n\tAvoid Exclusionary Elements:\n\tRemove jargon, acronyms (unless defined), and expand abbreviations if needed (example: â€œASAPâ€ â†’ â€œas soon as possibleâ€).\n\tEliminate metaphors, idioms, or implied meanings (example: â€œhit the booksâ€ â†’ â€œstudyâ€).\n\tAvoid double negatives (example: â€œnot uncommonâ€ â†’ â€œcommonâ€).\n\n\tStructural Support:\n\tAdd clear headings to label sections (example: â€œHow to Apply for Benefitsâ€).\n\tUse formatting tools like bold for key terms or warnings.\n\tChunk information into short paragraphs with line breaks for visual ease.\n\n\tInclusivity Checks:\n\tEnsure content is free of bias, stereotypes, or assumptions about the reader.\n\tUse gender-neutral language (example: â€œtheyâ€ instead of â€œhe/sheâ€).\n\n\n\tOutput Requirements:\n\tReturn only the simplified text, without markdown, emojis, or images.\n\tPreserve original context, facts, and intent. Do not omit critical details.\n\tPrioritize clarity over brevity; focus on simplification and not summarization. The length of generated output text should be same or similar to that of input text.\n\tDo not simplify already simple text.\n\n\tExample Transformation:\n\tOriginal: â€œIndividuals experiencing adverse climatic conditions may necessitate relocation to mitigate health risks.â€\n\tSimplified: â€œIf weather conditions become dangerous, people might need to move to stay safe.â€\n\n\tFor the provided input text, apply the above guidelines rigorously. Ensure the output is accessible to readers with varied cognitive abilities, emphasizing clarity, simplicity, and logical structure. Verify that the simplified text aligns with plain language standards like WCAG and PlainLanguage.gov.\n\n\t\"${inputText}\"\n\t`;\n  };\n\n  const splitTextIntoChunks = (text, maxTokens) => {\n\tconst words = text.split(\" \");\n\tlet chunks = [];\n\tlet currentChunk = [];\n  \n\tfor (let word of words) {\n\t  if (currentChunk.join(\" \").length + word.length < maxTokens) {\n\t\tcurrentChunk.push(word);\n\t  } else {\n\t\tchunks.push(currentChunk.join(\" \"));\n\t\tcurrentChunk = [word];\n\t  }\n\t}\n\tif (currentChunk.length > 0) chunks.push(currentChunk.join(\" \"));\n\treturn chunks;\n  };\n\n\n  const handleSubmit = async () => {\n\n\t// const inputText = document.getElementById('inputText').value;\n\tconst trimmedInput = inputText.trim();\n\tif (!trimmedInput) return;\n\n\t// inputTextSnapshot.current = inputText; \n\tsetIsLoading(true);\n  \n\ttry {\n\t  const chunks = splitTextIntoChunks(trimmedInput, 10000);\n\t  let combinedOutput = \"\";\n  \n\t  for (let chunk of chunks) {\n\t\tconst prompt = generatePrompt(chunk);\n\t\tconst response = await fetch(\"http://localhost:5001/api/gpt4\", {\n\t\t  method: \"POST\",\n\t\t  headers: { \"Content-Type\": \"application/json\" },\n\t\t  body: JSON.stringify({ prompt }),\n\t\t});\n\t\t\n\t\tif (!response.ok) {\n\t\t\tconsole.error(`API request failed with status: ${response.status}`);\n\t\t\tcontinue; // Skip this chunk if the API request failed\n\t\t  }\n\n\t\tconst data = await response.json();\n\t\tconsole.log(\"Full API Response: \", data);\n\n\n\t\tconst data1 = data?.response?.replace(/^\"|\"$/g, \"\") || \"No response received.\"; // Append results\n\t\tcombinedOutput += data1 + \" \";\n\t}\n\t  console.log(\"Final Combined Output: \", combinedOutput);\n\n\tconsole.log(\"Data: \", combinedOutput);\n\n\tconst cleanedResponse = combinedOutput.trim();\n\tsetOutputText(cleanedResponse);\n\tsetIsSubmitted(true);\n\tnavigate(\"/review\", { state: { inputText: trimmedInput, outputText: cleanedResponse } });\n\t\n\t} catch (error) {\n\t  console.error(\"Error fetching GPT-4o response:\", error);\n\t  setOutputText(\"An error occurred while simplifying the text.\");\n\t}\n  \n\tsetIsLoading(false);\n  };\n\n  \n\n  return (\n    <>\n      <nav className={styles.navbar}>\n        {/* <h1>Text Simplification Tool</h1> */}\n\t\t<h1 \n    onClick={() => window.location.href = \"http://localhost:5001/\"}\n    style={{ cursor: \"pointer\" }} // Makes it look clickable\n \t\t>\n\t\tText Simplification Tool</h1>\n        <button className={styles.white_btn} onClick={handleLogout}>\n          Logout\n        </button>\n      </nav>\n\n\t  <div className={styles.container}>\n\n\t\t\t <div\n\t\t\t\t  className={`${styles.sidebar} ${\n\t\t\t\t\tisSidebarVisible ? styles.expanded : \"\"\n\t\t\t\t  }`}\n\t\t\t\t>\n\n\t\t\t{/* </div> */}\n\n\t\t\t<button\n\t\t\tclassName={styles.historyIcon}\n\t\t\tonClick={() => setIsSidebarVisible(!isSidebarVisible)}\n\t\t\t>\n\t\t\t\tðŸ•’   <p style={{ fontSize: \"15px\" }}> History </p> \n\t\t\t</button>\n\n\n          {isSidebarVisible && (\n            <div className={styles.historyContent}>\n              <button className={styles.closeButton} onClick={() => setIsSidebarVisible(false)}>\n                âœ–\n              </button>\n              <ul className={styles.historyList}>\n                {documents.map((doc, index) => (\n    \n\t\t\t\t<li\n\t\t\t\tkey={doc._id}\n\t\t\t\tonClick={() => handleDocumentClick(doc)}\n\t\t\t\tclassName={`${styles.historyItem} ${selectedDocument?._id === doc._id ? styles.activeDoc : \"\"}`}\n\t\t\t\t>\n\t\t\t\t{/* <strong>Document {index + 1}</strong>  */}\n\t\t\t\t<strong>Document {documents.length - index}</strong>({doc.inputText.substring(0, 20)}...)\n\t\t\t\t</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n\n\t  {/* <div className={styles.main_container}> */}\n\t  <div className={`${styles.mainContent} ${isSidebarVisible ? styles.withSidebar : \"\"}`}>\n         \n\t\t\t<div className={styles.description}>\n\t\t\t  <p>\n\t\t\t  This tool helps make complex text easier to read while preserving its original meaning. Whether you're simplifying academic content, technical documents, or general text for better accessibility, this tool provides a quick and efficient way to generate a more readable version. You can enter text manually or upload a document to get started.\n\t\t\t  </p>\n\t</div>\n\t\t\t  <div className={styles.form_container}>\n\t\t\t\t{/* Input Area */}\n\t\t\t\t<div className={styles.input_area}>\n\t\t\t\t  <div className={styles.text_container}>\n\t\t\t\t\t<label className={styles.label} htmlFor=\"inputText\">\n\t\t\t\t\t  Input Text\n\t\t\t\t\t</label>\n\t\t\t\t\t<textarea\n\t\t\t\t\t  id=\"inputText\"\n\t\t\t\t\t  className={`${styles.textarea} ${isLoading ? styles.disabled : \"\"}`}\n\t\t\t\t\t//   className={styles.textarea}\n\t\t\t\t\t  placeholder=\"Write/Paste your text here or upload a PDF document to extract content automatically.\"\n\t\t\t\t\t  value={inputText}\n\t\t\t\t\t  onChange={(e) => setInputText(e.target.value)}\n\t\t\t\t\t  disabled={isLoading} // Disable input when loading\n\t\t\t\t\t></textarea>\n\t\t\t\t \n\t\t\t\t <p className={styles.countText}>Words: {inputWordCount} | Characters: {inputCharCount}\n\t\t\t\t {pdfPageCount > 0 && ` | Pages: ${pdfPageCount}`}\n\t\t\t\t </p>\n\t\t\t\t\t\n\t\t\t\t  </div>\n  \n\t\t\t\t  {/* OR Divider */}\n\t\t\t\t  <div className={styles.or_divider}>OR</div>\n  \n\t\t\t\t  {/* File Upload */}\n\t\t\t\t  <div className={`${styles.upload_area} ${isLoading ? styles.disabled : \"\"}`}\n\t\t\t\t\tonDragOver={(e) => e.preventDefault()} // Prevent default behavior\n\t\t\t\t\tonDrop={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tconst file = e.dataTransfer.files[0]; // Get the first dropped file\n\t\t\t\t\t\tif (file) {\n\t\t\t\t\t\thandleFileUpload({ target: { files: [file] } }); // Simulate file selection event\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t<label htmlFor=\"fileUpload\" className={styles.upload_box}>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{isUploading ? (\n\t\t\t\t\t\t\t<span className={styles.loadingText}>Extracting text, please wait...</span>\n\t\t\t\t\t\t\t) : uploadedFileName ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\tFile uploaded: <strong>{uploadedFileName}</strong>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\tClick to Upload a PDF\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span>...or drag and drop a file.</span>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t  type=\"file\"\n\t\t\t\t\t  id=\"fileUpload\"\n\t\t\t\t\t  accept=\"application/pdf\"\n\t\t\t\t\t  onChange={handleFileUpload}\n\t\t\t\t\t  className={styles.hidden_input}\n\t\t\t\t\t  disabled={isUploading || isLoading} // Disable upload while processing\n\t\t\t\t\t  //disabled={isUploading} // Disable upload while processing\n\t\t\t\t\t/>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t  {/* Submit Button */}\n\t\t\t  <button\n\t\t\t\tclassName={styles.submit_btn}\n\t\t\t\tonClick={handleSubmit}\n\t\t\t\tdisabled={!inputText.trim() || isLoading || isUploading}\n\t\t\t\tid=\"simplifyBtn\"\n\t\t\t\t//title={!inputText.trim() ? \"Enter text or upload a file to enable simplification.\" : \"\"}\n\t\t\t  >\n\t\t\t\t{isLoading ? \"Processing...\" : \"Simplify Text\"}\n\t\t\t  </button>\n\t\n\t\t\t  <p className={styles.help_text}>Need Help? <a href=\"mailto:anukumar@uw.edu\">Contact Support</a></p>\n\n      </div>\n\n      </div>\n    </>\n  );\n};\n\nexport default Main;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}