{"ast":null,"code":"var _jsxFileName = \"/Users/anukumar/Desktop/Autumn 2024/Text Simplification/project_v3/client/src/components/Review/index.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport DiffMatchPatch from \"diff-match-patch\";\nimport styles from \"./styles.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Review = () => {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const {\n    inputText,\n    outputText: initialOutputText\n  } = state || {\n    inputText: \"\",\n    outputText: \"\"\n  };\n  const [outputText, setOutputText] = useState(initialOutputText);\n  const [diffHtml, setDiffHtml] = useState(\"\"); // State for storing diff HTML\n  const [isEditable, setIsEditable] = useState(false);\n  const navigate = useNavigate();\n\n  // Function to calculate and render diff\n  const generateDiff = (input, output) => {\n    const dmp = new DiffMatchPatch();\n    const diffs = dmp.diff_main(input, output);\n    dmp.diff_cleanupSemantic(diffs); // Optional cleanup for better readability\n    return dmp.diff_prettyHtml(diffs); // Generate diff HTML\n  };\n\n  // Effect to calculate diff whenever text changes\n  useEffect(() => {\n    const diffResult = generateDiff(inputText, outputText);\n    setDiffHtml(diffResult);\n  }, [inputText, outputText]);\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n  const handleSave = async () => {\n    // Save logic remains the same\n    alert(\"Text saved successfully!\");\n  };\n  const handleEdit = () => {\n    setIsEditable(true);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.navbar,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Text Simplification Study\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.white_btn,\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.main_container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.description,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Review the generated output and make any necessary edits. Changes are highlighted in real-time for easy visualization.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.form_container,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.textareas_container,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.text_container,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: styles.label,\n                htmlFor: \"inputText\",\n                children: \"Input Text\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"inputText\",\n                className: `${styles.textarea} ${styles.side_by_side}`,\n                value: inputText,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.text_container,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: styles.label,\n                htmlFor: \"diffText\",\n                children: \"Changes Highlighted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"diffText\",\n                className: `${styles.diff_box} ${styles.side_by_side}`,\n                dangerouslySetInnerHTML: {\n                  __html: diffHtml\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.button_container,\n            children: [!isEditable && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `${styles.edit_btn} ${styles.text_btn}`,\n              onClick: handleEdit,\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this), isEditable && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `${styles.save_btn} ${styles.text_btn}`,\n              onClick: handleSave,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Review, \"0TnNuWRoUH+mVwoTXBx3aUgllPU=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Review;\nexport default Review;\nvar _c;\n$RefreshReg$(_c, \"Review\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","DiffMatchPatch","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","Review","_s","state","inputText","outputText","initialOutputText","setOutputText","diffHtml","setDiffHtml","isEditable","setIsEditable","navigate","generateDiff","input","output","dmp","diffs","diff_main","diff_cleanupSemantic","diff_prettyHtml","diffResult","handleLogout","localStorage","removeItem","window","location","reload","handleSave","alert","handleEdit","children","className","navbar","fileName","_jsxFileName","lineNumber","columnNumber","white_btn","onClick","main_container","description","form_container","textareas_container","text_container","label","htmlFor","id","textarea","side_by_side","value","readOnly","diff_box","dangerouslySetInnerHTML","__html","button_container","edit_btn","text_btn","save_btn","_c","$RefreshReg$"],"sources":["/Users/anukumar/Desktop/Autumn 2024/Text Simplification/project_v3/client/src/components/Review/index.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport DiffMatchPatch from \"diff-match-patch\";\nimport styles from \"./styles.module.css\";\n\nconst Review = () => {\n  const { state } = useLocation();\n  const { inputText, outputText: initialOutputText } = state || {\n    inputText: \"\",\n    outputText: \"\",\n  };\n  const [outputText, setOutputText] = useState(initialOutputText);\n  const [diffHtml, setDiffHtml] = useState(\"\"); // State for storing diff HTML\n  const [isEditable, setIsEditable] = useState(false);\n  const navigate = useNavigate();\n\n  // Function to calculate and render diff\n  const generateDiff = (input, output) => {\n    const dmp = new DiffMatchPatch();\n    const diffs = dmp.diff_main(input, output);\n    dmp.diff_cleanupSemantic(diffs); // Optional cleanup for better readability\n    return dmp.diff_prettyHtml(diffs); // Generate diff HTML\n  };\n\n  // Effect to calculate diff whenever text changes\n  useEffect(() => {\n    const diffResult = generateDiff(inputText, outputText);\n    setDiffHtml(diffResult);\n  }, [inputText, outputText]);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  const handleSave = async () => {\n    // Save logic remains the same\n    alert(\"Text saved successfully!\");\n  };\n\n  const handleEdit = () => {\n    setIsEditable(true);\n  };\n\n  return (\n    <>\n      <nav className={styles.navbar}>\n        <h1>Text Simplification Study</h1>\n        <button className={styles.white_btn} onClick={handleLogout}>\n          Logout\n        </button>\n      </nav>\n\n      <div className={styles.main_container}>\n        <div className={styles.description}>\n          <p>\n            Review the generated output and make any necessary edits. Changes\n            are highlighted in real-time for easy visualization.\n          </p>\n\n          <div className={styles.form_container}>\n            {/* Input and Diff Boxes */}\n            <div className={styles.textareas_container}>\n              {/* Input Text Box */}\n              <div className={styles.text_container}>\n                <label className={styles.label} htmlFor=\"inputText\">\n                  Input Text\n                </label>\n                <textarea\n                  id=\"inputText\"\n                  className={`${styles.textarea} ${styles.side_by_side}`}\n                  value={inputText}\n                  readOnly\n                ></textarea>\n              </div>\n\n              {/* Diff Box */}\n              <div className={styles.text_container}>\n                <label className={styles.label} htmlFor=\"diffText\">\n                  Changes Highlighted\n                </label>\n                <div\n                  id=\"diffText\"\n                  className={`${styles.diff_box} ${styles.side_by_side}`}\n                  dangerouslySetInnerHTML={{ __html: diffHtml }}\n                ></div>\n              </div>\n            </div>\n\n            {/* Save and Edit Buttons */}\n            <div className={styles.button_container}>\n              {!isEditable && (\n                <button\n                  className={`${styles.edit_btn} ${styles.text_btn}`}\n                  onClick={handleEdit}\n                >\n                  Edit\n                </button>\n              )}\n              {isEditable && (\n                <button\n                  className={`${styles.save_btn} ${styles.text_btn}`}\n                  onClick={handleSave}\n                >\n                  Save\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Review;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,MAAM,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzC,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM;IAAEC;EAAM,CAAC,GAAGV,WAAW,CAAC,CAAC;EAC/B,MAAM;IAAEW,SAAS;IAAEC,UAAU,EAAEC;EAAkB,CAAC,GAAGH,KAAK,IAAI;IAC5DC,SAAS,EAAE,EAAE;IACbC,UAAU,EAAE;EACd,CAAC;EACD,MAAM,CAACA,UAAU,EAAEE,aAAa,CAAC,GAAGhB,QAAQ,CAACe,iBAAiB,CAAC;EAC/D,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAMqB,QAAQ,GAAGlB,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMmB,YAAY,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IACtC,MAAMC,GAAG,GAAG,IAAIrB,cAAc,CAAC,CAAC;IAChC,MAAMsB,KAAK,GAAGD,GAAG,CAACE,SAAS,CAACJ,KAAK,EAAEC,MAAM,CAAC;IAC1CC,GAAG,CAACG,oBAAoB,CAACF,KAAK,CAAC,CAAC,CAAC;IACjC,OAAOD,GAAG,CAACI,eAAe,CAACH,KAAK,CAAC,CAAC,CAAC;EACrC,CAAC;;EAED;EACAzB,SAAS,CAAC,MAAM;IACd,MAAM6B,UAAU,GAAGR,YAAY,CAACT,SAAS,EAAEC,UAAU,CAAC;IACtDI,WAAW,CAACY,UAAU,CAAC;EACzB,CAAC,EAAE,CAACjB,SAAS,EAAEC,UAAU,CAAC,CAAC;EAE3B,MAAMiB,YAAY,GAAGA,CAAA,KAAM;IACzBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B;IACAC,KAAK,CAAC,0BAA0B,CAAC;EACnC,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvBnB,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,oBACEb,OAAA,CAAAE,SAAA;IAAA+B,QAAA,gBACEjC,OAAA;MAAKkC,SAAS,EAAEpC,MAAM,CAACqC,MAAO;MAAAF,QAAA,gBAC5BjC,OAAA;QAAAiC,QAAA,EAAI;MAAyB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClCvC,OAAA;QAAQkC,SAAS,EAAEpC,MAAM,CAAC0C,SAAU;QAACC,OAAO,EAAEjB,YAAa;QAAAS,QAAA,EAAC;MAE5D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENvC,OAAA;MAAKkC,SAAS,EAAEpC,MAAM,CAAC4C,cAAe;MAAAT,QAAA,eACpCjC,OAAA;QAAKkC,SAAS,EAAEpC,MAAM,CAAC6C,WAAY;QAAAV,QAAA,gBACjCjC,OAAA;UAAAiC,QAAA,EAAG;QAGH;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAEJvC,OAAA;UAAKkC,SAAS,EAAEpC,MAAM,CAAC8C,cAAe;UAAAX,QAAA,gBAEpCjC,OAAA;YAAKkC,SAAS,EAAEpC,MAAM,CAAC+C,mBAAoB;YAAAZ,QAAA,gBAEzCjC,OAAA;cAAKkC,SAAS,EAAEpC,MAAM,CAACgD,cAAe;cAAAb,QAAA,gBACpCjC,OAAA;gBAAOkC,SAAS,EAAEpC,MAAM,CAACiD,KAAM;gBAACC,OAAO,EAAC,WAAW;gBAAAf,QAAA,EAAC;cAEpD;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACRvC,OAAA;gBACEiD,EAAE,EAAC,WAAW;gBACdf,SAAS,EAAE,GAAGpC,MAAM,CAACoD,QAAQ,IAAIpD,MAAM,CAACqD,YAAY,EAAG;gBACvDC,KAAK,EAAE9C,SAAU;gBACjB+C,QAAQ;cAAA;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eAGNvC,OAAA;cAAKkC,SAAS,EAAEpC,MAAM,CAACgD,cAAe;cAAAb,QAAA,gBACpCjC,OAAA;gBAAOkC,SAAS,EAAEpC,MAAM,CAACiD,KAAM;gBAACC,OAAO,EAAC,UAAU;gBAAAf,QAAA,EAAC;cAEnD;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACRvC,OAAA;gBACEiD,EAAE,EAAC,UAAU;gBACbf,SAAS,EAAE,GAAGpC,MAAM,CAACwD,QAAQ,IAAIxD,MAAM,CAACqD,YAAY,EAAG;gBACvDI,uBAAuB,EAAE;kBAAEC,MAAM,EAAE9C;gBAAS;cAAE;gBAAA0B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNvC,OAAA;YAAKkC,SAAS,EAAEpC,MAAM,CAAC2D,gBAAiB;YAAAxB,QAAA,GACrC,CAACrB,UAAU,iBACVZ,OAAA;cACEkC,SAAS,EAAE,GAAGpC,MAAM,CAAC4D,QAAQ,IAAI5D,MAAM,CAAC6D,QAAQ,EAAG;cACnDlB,OAAO,EAAET,UAAW;cAAAC,QAAA,EACrB;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT,EACA3B,UAAU,iBACTZ,OAAA;cACEkC,SAAS,EAAE,GAAGpC,MAAM,CAAC8D,QAAQ,IAAI9D,MAAM,CAAC6D,QAAQ,EAAG;cACnDlB,OAAO,EAAEX,UAAW;cAAAG,QAAA,EACrB;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP,CAAC;AAACnC,EAAA,CA5GID,MAAM;EAAA,QACQR,WAAW,EAQZC,WAAW;AAAA;AAAAiE,EAAA,GATxB1D,MAAM;AA8GZ,eAAeA,MAAM;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}